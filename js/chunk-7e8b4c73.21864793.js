(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e8b4c73"],{"0871":function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function s(t){if(Array.isArray(t))return a(t)}n.d(e,"a",(function(){return o}));n("9f90"),n("efe6"),n("13b6"),n("8c9d"),n("d8e0"),n("30d8"),n("cca2");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("8b89"),n("67ad"),n("f4d8"),n("9c52");function r(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}n("d3f5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t){return s(t)||i(t)||r(t)||c()}},"0d1c":function(t,e,n){var a=n("9bd5"),s=n("c4e9");t.exports=function(t,e,n,i){try{return i?e(a(n)[0],n[1]):e(n)}catch(r){s(t,"throw",r)}}},1584:function(t,e,n){},"20f5":function(t,e,n){"use strict";n("1584")},"215b":function(t,e,n){},"4eb8":function(t,e,n){"use strict";var a=n("8a5a"),s=n("2712"),i=n("5acb"),r=n("0d1c"),c=n("8db6"),o=n("2950"),u=n("4551"),d=n("d560"),l=n("23e0"),f=n("8487"),p=Array;t.exports=function(t){var e=i(t),n=o(this),v=arguments.length,b=v>1?arguments[1]:void 0,m=void 0!==b;m&&(b=a(b,v>2?arguments[2]:void 0));var h,g,w,j,_,x,C=f(e),k=0;if(!C||this===p&&c(C))for(h=u(e),g=n?new this(h):p(h);h>k;k++)x=m?b(e[k],k):e[k],d(g,k,x);else for(j=l(e,C),_=j.next,g=n?new this:[];!(w=s(_,j)).done;k++)x=m?r(j,b,[w.value,k],!0):w.value,d(g,k,x);return g.length=k,g}},"5c25":function(t,e,n){t.exports=n.p+"img/no-data.dd2cce4c.png"},"68d0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"review-wrap"},[a("CommonHeader"),a("div",{staticClass:"page-wrap"},[a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-item",class:{"tab-active":!t.tabActive&&0!==t.tabActive},on:{click:function(e){return t.handleTab()}}},[t._v(" "+t._s(t.$t("common.all"))+" ")]),a("div",{staticClass:"tab-item",class:{"tab-active":0===t.tabActive},on:{click:function(e){return t.handleTab(0)}}},[t._v(" "+t._s(t.$t("admin.pending"))+" ")]),a("div",{staticClass:"tab-item",class:{"tab-active":1===t.tabActive},on:{click:function(e){return t.handleTab(1)}}},[t._v(" "+t._s(t.$t("admin.passed"))+" ")]),a("div",{staticClass:"tab-item",class:{"tab-active":2===t.tabActive},on:{click:function(e){return t.handleTab(2)}}},[t._v(" "+t._s(t.$t("admin.rejected"))+" ")])]),t.reviewList.length>0?[a("div",{staticClass:"count"},[t._v(t._s(t.reviewList.length)+" "+t._s(t.$t("common.piece")))]),a("VanList",{attrs:{finished:t.finished,"finished-text":"","loading-text":" ","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.reviewList,(function(e){return a("ReviewItem",{key:e.id,attrs:{dataSource:e},on:{reject:t.handleReject}})})),1)]:a("div",{staticClass:"no-data"},[a("img",{attrs:{src:n("5c25"),alt:""}}),a("div",[t._v(t._s(t.$t("common.noData")))])])],2),t.rejectShow?a("RejectPop",{attrs:{id:t.rejectId},on:{close:t.handleReject}}):t._e()],1)},s=[],i=n("d941"),r=n("0871"),c=n("c3ae"),o=(n("31a7"),n("cb78")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CommomPop",{on:{close:t.closePop}},[n("div",{staticClass:"reject-wrap"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.reviewReject")))]),n("div",{staticClass:"input-wrap"},[n("van-field",{staticClass:"input",attrs:{placeholder:t.$t("admin.rejectReason"),translate:"no"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),n("div",{staticClass:"button-group"},[n("div",{staticClass:"button-item",on:{click:t.handleConfirm}},[t._v(" "+t._s(t.$t("common.confirm"))+" ")])])])])},d=[],l=n("9598"),f={props:["id"],components:{CommomPop:l["a"]},name:"",data:function(){return{reason:""}},methods:{closePop:function(){this.$emit("close")},handleConfirm:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.reason){e.next=2;break}return e.abrupt("return",t.$toast(t.$t("admin.rejectReason")));case 2:return e.next=4,Object(o["d"])({status:2,reason:t.reason,id:t.id});case 4:if(n=e.sent,n.success){e.next=7;break}return e.abrupt("return");case 7:t.$parent.pageNumber=1,t.$parent.getList(),t.closePop();case 10:case"end":return e.stop()}}),e)})))()}},mounted:function(){}},p=f,v=(n("20f5"),n("cba8")),b=Object(v["a"])(p,u,d,!1,null,"ceb0b12a",null),m=b.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"review-item-wrap",on:{click:t.handleExpand}},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v(" "+t._s(t.$gbUtils.formatAddress(t.dataSource.address)||"***")+" ")]),n("div",{staticClass:"time"},[t._v(t._s(t.$gbUtils.timeFormat(t.dataSource.createTime)||0))]),2===t.dataSource.status?n("div",{staticClass:"text-rejected"},[n("svg",{staticClass:"icon"},[n("use",{attrs:{href:"#reject"}})]),n("div",[t._v(t._s(t.$t("admin.rejected")))])]):1===t.dataSource.status?n("div",{staticClass:"text-passed"},[n("svg",{staticClass:"icon"},[n("use",{attrs:{href:"#pass"}})]),n("div",[t._v(t._s(t.$t("admin.passed")))])]):t._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isExpand,expression:"!isExpand"}],staticClass:"content-no-expand"},[t._v(" "+t._s(t.dataSource.content)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isExpand,expression:"isExpand"}],staticClass:"content-expand"},[n("div",{staticClass:"content"},[n("div",{staticClass:"image",on:{click:function(e){return e.stopPropagation(),t.handleShowImg.apply(null,arguments)}}},[n("img",{attrs:{src:t.dataSource.images,alt:""}}),n("svg",{staticClass:"icon"},[n("use",{attrs:{href:"#magnifier"}})])]),n("div",{staticClass:"text"},[t._v(" "+t._s(t.dataSource.content)+" ")])]),0===t.dataSource.status?n("div",{staticClass:"button-group"},[n("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.handleReject.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("admin.reject"))+" ")]),n("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.handlePass.apply(null,arguments)}}},[t._v(t._s(t.$t("admin.pass")))])]):2===t.dataSource.status?n("div",{staticClass:"button-reject"},[t._v(" "+t._s(t.$t("admin.rejected"))+" ")]):n("div",{staticClass:"button-pass"},[t._v(t._s(t.$t("admin.passed")))])])])},g=[],w=(n("9bbd"),n("64bb"),n("5891"),n("475f"),n("f104"),n("16f3"),n("7486"),n("6f37"),n("8d5e"),n("0073"),n("a387")),j={props:["dataSource"],name:"",data:function(){return{isExpand:!0,instance_Preview:""}},methods:{handleExpand:function(){this.isExpand=!this.isExpand},handleReject:function(){this.$emit("reject",this.dataSource.id)},handlePass:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])({status:1,id:t.dataSource.id});case 2:if(n=e.sent,n.success){e.next=5;break}return e.abrupt("return");case 5:t.$parent.pageNumber=1,t.$parent.getList();case 7:case"end":return e.stop()}}),e)})))()},handleShowImg:function(){this.instance_Preview=Object(w["a"])([this.dataSource.images])}},mounted:function(){this.dataSource.status&&(this.isExpand=!1)},beforeDestroy:function(){this.instance_Preview&&(this.instance_Preview="")}},_=j,x=(n("85bf"),Object(v["a"])(_,h,g,!1,null,"33c38090",null)),C=x.exports,k={name:"",data:function(){return{loading:!1,finished:!1,pageSize:20,pageNumber:1,total:0,reviewList:[],rejectShow:!1,rejectId:"",tabActive:0}},methods:{handleTab:function(t){this.tabActive!==t&&(this.tabActive=t,this.pageNumber=1,this.reviewList=[],this.getList())},onLoad:function(){this.pageNumber+=1,this.getList()},getList:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["g"])({taskId:t.$route.query.taskId,pageSize:t.pageSize,pageNum:t.pageNumber,status:t.tabActive});case 2:if(n=e.sent,t.loading=!1,n.success){e.next=6;break}return e.abrupt("return");case 6:t.pageSize*t.pageNumber>=n.total&&(t.finished=!0),t.reviewList=[].concat(Object(r["a"])(t.reviewList),Object(r["a"])(n.rows));case 8:case"end":return e.stop()}}),e)})))()},handleReject:function(t){this.rejectShow=!this.rejectShow,this.rejectId=t}},mounted:function(){this.getList()},components:{ReviewItem:C,RejectPop:m}},O=k,S=(n("763f"),Object(v["a"])(O,a,s,!1,null,"c74e10c4",null));e["default"]=S.exports},"72a4":function(t,e,n){},"763f":function(t,e,n){"use strict";n("215b")},7694:function(t,e,n){"use strict";n("f884")},"85bf":function(t,e,n){"use strict";n("72a4")},9598:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VanPopup",{staticStyle:{"box-sizing":"border-box",width:"93%","background-color":"transparent"},attrs:{round:""},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"wrap"},[n("div",{staticClass:"window"},[t.closeIcon?n("div",{staticClass:"icon-wrapper"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.closePop.apply(null,arguments)}}},[n("use",{attrs:{"xlink:href":"#close"}})])]):t._e(),t._t("default")],2)])])},s=[],i={name:"",props:{closeIcon:{type:Boolean,default:!0}},data:function(){return{show:!0}},methods:{closePop:function(){this.$emit("close")},handleConfirm:function(){this.$emit("close")}},mounted:function(){}},r=i,c=(n("7694"),n("cba8")),o=Object(c["a"])(r,a,s,!1,null,"464a00b7",null);e["a"]=o.exports},"9c52":function(t,e,n){"use strict";n("f4d8");var a=n("4e59"),s=n("2712"),i=n("e824"),r=n("086e"),c=n("ca36"),o=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=TypeError,d=i(/./.test);a({target:"RegExp",proto:!0,forced:!o},{test:function(t){var e=this.exec;if(!r(e))return d(this,t);var n=s(e,this,t);if(null!==n&&!c(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},cb78:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"h",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"i",(function(){return l})),n.d(e,"d",(function(){return f}));var a=n("b775"),s=function(t){return Object(a["a"])("GET","/dapp/task/getTaskAdminIndex",t,!0,!0)},i=function(t){return Object(a["a"])("GET","/dapp/task/adminList",t)},r=function(t){return Object(a["a"])("GET","/dapp/task/list",t,!0,!0)},c=function(t){return Object(a["a"])("GET","/dapp/taskLog/list",t,!0,!0)},o=function(t){return Object(a["a"])("GET","/dapp/task/".concat(t),{},!0,!0,1)},u=function(t){return Object(a["a"])("POST","/dapp/task",t)},d=function(t){return Object(a["a"])("GET","/dapp/taskLog/pendingReview",t,!0,!0)},l=function(t){return Object(a["a"])("POST","/dapp/taskLog",t,!0,!0)},f=function(t){return Object(a["a"])("POST","/dapp/taskLog/audit",t,!0,!0)}},cca2:function(t,e,n){var a=n("4e59"),s=n("4eb8"),i=n("87ea"),r=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:r},{from:s})},f884:function(t,e,n){}}]);