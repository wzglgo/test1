(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-612b46a6"],{"2d9d":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"task-detail-wrap"},[s("CommonHeader",{attrs:{title:t.$t("admin.taskDetail")}}),s("div",{staticClass:"page-wrap"},[s("div",{attrs:{id:"header"}},[s("div",{staticClass:"info"},[s("div",{staticClass:"avatar",attrs:{translate:"no"}},[s("img",{attrs:{src:t.taskInfo.logo||t.defaultImg,alt:""}})]),s("div",{staticClass:"name",attrs:{translate:"no"}},[t._v(t._s(t.taskInfo.author))])]),s("div",{staticClass:"title"},[t._v(t._s(t.taskInfo.title))])]),s("div",{staticClass:"grid-info"},[s("div",{staticClass:"item"},[s("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.taskInfo.award?t.$gbUtils.formatBalance(t.taskInfo.award):0)+t._s(t.tokenName))]),s("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.reward")))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.taskInfo.completionsTimes)+"/"+t._s(t.taskInfo.times))]),s("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.schedule")))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.getTime(t.validTime))+t._s(t.getUnit(t.validTime)))]),s("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.timeLeft")))])])]),s("div",{staticClass:"grid-info"},[s("div",{staticClass:"item"},[s("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.taskInfo.submitQuantity||0))]),s("div",{staticClass:"name"},[t._v(t._s(t.$t("common.submit")))])]),s("div",{staticClass:"item item1"},[s("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.taskInfo.checkQuantity||0))]),s("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.review")))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.taskInfo.completionsTimes||0))]),s("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.pass")))])])]),s("div",{staticClass:"task-content"},[t._v(" "+t._s(t.taskInfo.content)+" "),t.taskInfo.content?s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(a){return t.handleCopy(t.taskInfo.content)}}},[s("use",{attrs:{"xlink:href":"#copy"}})]):t._e()]),s("div",{staticClass:"form-btns"},[t.taskInfo.buttonName?s("div",{staticClass:"border-box"},[s("div",{staticClass:"btn",on:{click:t.handleOpenLink}},[t._v(t._s(t.taskInfo.buttonName))])]):t._e(),0===t.type?[s("div",{staticClass:"border-box"},[s("div",{staticClass:"btn back",on:{click:t.handleShowUpload}},[t._v(t._s(t.$t("admin.finishTask")))])])]:[s("div",{staticClass:"border-box"},[1===t.taskInfo.userStatus?s("div",{staticClass:"btn back"},[t._v(t._s(t.$t("admin.passed")))]):t._e(),2===t.taskInfo.userStatus?s("div",{staticClass:"btn back",on:{click:t.handleShowReject}},[t._v(t._s(t.$t("admin.reviewFail")))]):t._e(),-1===t.taskInfo.userStatus?s("div",{staticClass:"btn back",on:{click:t.handleShowUpload}},[t._v(t._s(t.$t("admin.finishTask")))]):t._e(),0===t.taskInfo.userStatus?s("div",{staticClass:"btn disabled"},[s("div",{attrs:{translate:"no"}},[s("van-count-down",{attrs:{time:1e3*t.auditTime}})],1),s("div",[t._v(t._s(t.$t("admin.reviewing")))])]):t._e()])]],2)]),s("TaskResultPop",{attrs:{show:t.resultShow,title:t.resultTitle,content:t.resultContent},on:{close:t.handleShowResult}})],1)},n=[],i=s("d941"),o=s("c3ae"),c=s("a43d"),r=(s("f4d8"),s("bd6a"),s("c415"),s("9844"),s("942f"),s("b772"),s("0e27"),s("b474"),s("7736")),d=s("cb78"),l=s("8b26"),u={name:"TaskItemDetail",props:[],data:function(){return{type:0,tokenName:"",validTime:null,auditTime:null,taskInfo:{},defaultImg:s("cf05"),resultShow:!1,resultTitle:"",resultContent:""}},computed:Object(c["a"])({},Object(r["c"])(["myInfo"])),methods:{getTaskDetail:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var s,e,n,o;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=0===t.type?t.taskInfo.id:t.taskInfo.taskId,a.next=3,Object(d["h"])(s);case 3:if(e=a.sent,e.success){a.next=6;break}return a.abrupt("return");case 6:t.taskInfo["times"]=e.data.times,t.taskInfo["reviewing"]=e.data.reviewing,t.taskInfo["passed"]=e.data.passed,t.taskInfo["rejected"]=e.data.rejected,t.taskInfo["checkQuantity"]=e.data.checkQuantity,t.taskInfo["submitQuantity"]=e.data.submitQuantity,t.tokenName=JSON.parse(localStorage.getItem("tokenList"))[t.taskInfo.tokenType],n=t.taskInfo.expirationTime.replace(new RegExp("-","gm"),"/"),t.validTime=(new Date(n).getTime()-(new Date).getTime())/1e3,0===t.taskInfo.userStatus&&(o=t.taskInfo.auditExpirationTime.replace(new RegExp("-","gm"),"/"),t.auditTime=(new Date(o).getTime()-(new Date).getTime())/1e3);case 16:case"end":return a.stop()}}),a)})))()},handleOpenLink:function(){this.taskInfo.url&&window.open(this.taskInfo.url,"_blank")},handleShowUpload:function(){if(!(this.myInfo.type>1)){if(this.taskInfo.times-this.taskInfo.passed-this.taskInfo.reviewing<=0)return this.$toast(this.$t("admin.noReward"));var t={taskInfo:this.taskInfo,type:this.type};Object.keys(this.taskInfo).length>0&&this.$router.replace({name:"TaskOperation",params:t})}},handleShowReject:function(){this.resultTitle=this.$t("admin.rejectReason1"),this.resultRontent=this.taskInfo.reason,this.handleShowResult()},getTime:function(t){return+t>=86400?(+t/86400).toFixed(0):+t>=3600?(+t/3600).toFixed(0):+t>=60?(+t/60).toFixed(0):void 0},getUnit:function(t){return+t>=86400?this.$t("common.day"):+t>=3600?this.$t("common.hour"):+t>=60?this.$t("common.min"):this.$t("common.second")},handleCopy:function(t){var a=document.createElement("textarea");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("copy")&&(document.execCommand("copy"),this.$toast("copied")),document.body.removeChild(a)},handleShowResult:function(){this.resultShow=!this.resultShow}},mounted:function(){console.warn(this.$route.params),Object.keys(this.$route.params).length>0&&(this.taskInfo=this.$route.params.taskInfo,this.type=this.$route.params.type,this.getTaskDetail())},components:{TaskResultPop:l["a"]}},m=u,f=(s("416f"),s("cba8")),k=Object(f["a"])(m,e,n,!1,null,"b4818094",null);a["default"]=k.exports},"416f":function(t,a,s){"use strict";s("720a")},"6ca0":function(t,a,s){},"720a":function(t,a,s){},"8b26":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"popup-wrap"},[e("VanPopup",{staticClass:"result-popup",attrs:{"close-on-click-overlay":!1},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[e("div",{staticClass:"result-popup__body"},[e("div",{staticClass:"header"},[e("div",[t._v(t._s(t.title))]),e("svg",{staticClass:"close-icon",on:{click:t.closePop}},[e("use",{attrs:{href:"#close"}})])]),e("div",{staticClass:"content"},[e("img",{attrs:{src:s("8bf7")}}),e("div",[t._v(t._s(t.content))])]),e("div",{staticClass:"border-box"},[e("div",{staticClass:"btn",on:{click:t.backTask}},[t._v("Back to Task")])])])])],1)},n=[],i=(s("f4d8"),s("bd6a"),{name:"",props:["show","title","content"],data:function(){return{}},methods:{closePop:function(){this.$emit("close")},backTask:function(){this.$router.replace("/task")}},mounted:function(){}}),o=i,c=(s("c521"),s("cba8")),r=Object(c["a"])(o,e,n,!1,null,"15484761",null);a["a"]=r.exports},"8bf7":function(t,a){t.exports="data:image/png;base64,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"},c521:function(t,a,s){"use strict";s("6ca0")},cb78:function(t,a,s){"use strict";s.d(a,"c",(function(){return n})),s.d(a,"b",(function(){return i})),s.d(a,"e",(function(){return o})),s.d(a,"f",(function(){return c})),s.d(a,"h",(function(){return r})),s.d(a,"a",(function(){return d})),s.d(a,"g",(function(){return l})),s.d(a,"i",(function(){return u})),s.d(a,"d",(function(){return m}));var e=s("b775"),n=function(t){return Object(e["a"])("GET","/dapp/task/getTaskAdminIndex",t,!0,!0)},i=function(t){return Object(e["a"])("GET","/dapp/task/adminList",t)},o=function(t){return Object(e["a"])("GET","/dapp/task/list",t,!0,!0)},c=function(t){return Object(e["a"])("GET","/dapp/taskLog/list",t,!0,!0)},r=function(t){return Object(e["a"])("GET","/dapp/task/".concat(t),{},!0,!0,1)},d=function(t){return Object(e["a"])("POST","/dapp/task",t)},l=function(t){return Object(e["a"])("GET","/dapp/taskLog/pendingReview",t,!0,!0)},u=function(t){return Object(e["a"])("POST","/dapp/taskLog",t,!0,!0)},m=function(t){return Object(e["a"])("POST","/dapp/taskLog/audit",t,!0,!0)}},cf05:function(t,a,s){t.exports=s.p+"img/logo.094ab691.png"}}]);