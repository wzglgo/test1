(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-013bbea5"],{"6c37":function(t,e,n){"use strict";n("bc91")},a261:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("b775"),s=function(t){return Object(a["a"])("POST","/dapp/oss/upload",t,!0,!0)}},bc91:function(t,e,n){},bd4e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"operation-wrap"},[n("CommonHeader",{attrs:{title:t.$t("common.editInfo")}}),n("div",{staticClass:"upload-wrap"},[n("div",{attrs:{id:"image-info"}},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("common.avatar")))]),n("div",{staticClass:"set-image"},[n("van-uploader",{attrs:{"after-read":t.afterRead,"max-size":10485760},on:{oversize:t.onOversize},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},[n("div",{staticClass:"upload-banner"},[n("svg",{staticClass:"upload-icon"},[n("use",{attrs:{href:"#picture"}})]),n("div",{staticClass:"upload-title"},[t._v(t._s(t.$t("common.selectImage")))]),n("div",{staticClass:"upload-content"},[n("div",[t._v("Recommended size: JPG, PNG")]),n("div",[t._v("(345x150px, Max 10mb)")])])])])],1)]),n("div",{attrs:{id:"text-info"}},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("common.nickname")))]),n("van-field",{staticClass:"input",attrs:{translate:"no",placeholder:t.$t("common.inputName"),maxlength:"15"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("div",{staticClass:"upload-button",on:{click:t.handleConfirm}},[t._v(" "+t._s(t.$t("common.confirm"))+" ")])])],1)},s=[],r=n("d941"),c=n("c3ae"),i=n("a43d"),o=(n("f4d8"),n("bd6a"),n("f645")),u=n("93d6"),l=n("a261"),m=n("7736"),d={name:"",props:[],data:function(){return{fileList:[],content:"",images:""}},computed:Object(i["a"])({},Object(m["c"])(["myInfo","lang"])),methods:{onOversize:function(t){console.log(t),this.$toast(this.$t("common.10m"))},afterRead:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var a,s;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(2==e.myInfo.type||3==e.myInfo.type){n.next=2;break}return n.abrupt("return");case 2:return a=new FormData,a.append("file",t.file),n.next=6,Object(l["a"])(a);case 6:if(s=n.sent,s.success){n.next=10;break}return e.fileList=[],n.abrupt("return");case 10:e.images=o["a"].imgUrl+s.data.url;case 11:case"end":return n.stop()}}),n)})))()},handleConfirm:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(2==t.myInfo.type||3==t.myInfo.type){e.next=2;break}return e.abrupt("return");case 2:if(t.images&&t.content){e.next=4;break}return e.abrupt("return",t.$toast(t.$t("common.fill")));case 4:return e.next=6,Object(u["d"])({nickname:t.content,logo:t.images});case 6:if(n=e.sent,n.success){e.next=9;break}return e.abrupt("return");case 9:t.content="",t.images="",2==t.myInfo.type&&t.$router.replace("/agency"),3==t.myInfo.type&&t.$router.replace("/mediaAdmin");case 13:case"end":return e.stop()}}),e)})))()}},mounted:function(){},components:{}},f=d,p=(n("6c37"),n("cba8")),b=Object(p["a"])(f,a,s,!1,null,"73b5e842",null);e["default"]=b.exports}}]);