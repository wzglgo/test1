(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d829faae"],{"0e1f":function(t,e,n){},"0f8a":function(t,e,n){t.exports=n.p+"img/pre-price-bg.c2d1808e.png"},"165e":function(t,e,n){},1715:function(t,e,n){"use strict";n("6ab1")},"1cb0":function(t){t.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PAUSER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"name":"setBaseTokenURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},2258:function(t,e,n){"use strict";n("733c")},"286c":function(t,e,n){t.exports=n.p+"img/main.86b8fe1f.png"},3961:function(t,e,n){"use strict";n("cb2e")},"39db":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VanPopup",{staticStyle:{width:"100%",height:"100%","background-color":"transparent"},on:{"click-overlay":t.close},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"wrapper"},[a("img",{staticClass:"light",attrs:{src:n("d18c")}}),a("div",{staticClass:"star-wrapper"},[a("div",{staticClass:"title"},[a("div",{staticClass:"label"},[t._v(t._s("1"===t.type?t.$t("preSale.nftDetail"):t.$t("preSale.mintSuccess")))]),a("div",{staticClass:"name"},[t._v(t._s(t.nftName)+" #"+t._s(t.$gbUtils.setNftNum(t.info.tokenId||0)))])]),a("div",{staticClass:"star-box"},[a("div",{staticClass:"star-body"},[a("img",{staticClass:"main",attrs:{src:t.starImg,alt:""}})])]),a("VanButton",{staticClass:"confirm-btn",on:{click:t.close}},[t._v(t._s(t.$t("common.confirm")))])],1)])])},s=[],i={name:"",props:["info","type","nftName"],components:{},data:function(){return{show:!0,starImg:""}},methods:{init:function(){this.getStarImg()},close:function(){this.$emit("close")},getStarImg:function(){this.starImg=this.$gbUtils.setNftPath(this.info.tokenType||this.info.type||0,this.info.tokenId||0)}},mounted:function(){this.init(),console.log("this.info",this.info)}},r=i,o=(n("1715"),n("ad95"),n("cba8")),c=Object(o["a"])(r,a,s,!1,null,"103798d6",null);e["a"]=c.exports},"3dea":function(t,e,n){},"409d":function(t,e,n){},"45b71":function(t,e,n){"use strict";n("3dea")},"63bf":function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var a=n("b775"),s=function(t){return Object(a["a"])("GET","/dapp/preSale/index",t)},i=function(){return Object(a["a"])("GET","/dapp/preSale/nftinfo")},r=function(t){return Object(a["a"])("POST","/dapp/preSale/mintNFT",t)},o=function(t){var e={code:t};return Object(a["a"])("GET","/dapp/preSale/setPurchaseCode",e,!0,!0)}},6659:function(t,e,n){"use strict";n("165e")},"6ab1":function(t,e,n){},"733c":function(t,e,n){},7694:function(t,e,n){"use strict";n("f884")},"8b13":function(t,e,n){"use strict";n("0e1f")},9598:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VanPopup",{staticStyle:{"box-sizing":"border-box",width:"93%","background-color":"transparent"},attrs:{round:""},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"wrap"},[n("div",{staticClass:"window"},[t.closeIcon?n("div",{staticClass:"icon-wrapper"},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.closePop.apply(null,arguments)}}},[n("use",{attrs:{"xlink:href":"#close"}})])]):t._e(),t._t("default")],2)])])},s=[],i={name:"",props:{closeIcon:{type:Boolean,default:!0}},data:function(){return{show:!0}},methods:{closePop:function(){this.$emit("close")},handleConfirm:function(){this.$emit("close")}},mounted:function(){}},r=i,o=(n("7694"),n("cba8")),c=Object(o["a"])(r,a,s,!1,null,"464a00b7",null);e["a"]=c.exports},a03d:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var a=n("b775"),s=function(t){return Object(a["a"])("GET","/dapp/mining/index",t,!0,!0,1)},i=function(t){return Object(a["a"])("GET","/dapp/mining/list",t)}},a14c:function(t,e,n){},ab10:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preSale-wrap"},[n("PreSaleHeader",{attrs:{info:t.saleData}}),n("div",{staticClass:"page-wrap"},[n("StarBox",{attrs:{type:t.type,info:t.saleData}}),n("SalePrice",{attrs:{info:t.saleData},on:{finish:t.handleSaleMintShopId}}),n("MintBtn",{attrs:{type:t.type,info:t.saleData},on:{mintNft:t.mintNft}}),n("div",{staticClass:"notice"},[n("div",{staticClass:"notice-title"},[t._v(t._s(t.$t("preSale.rewardRule")))]),n("div",[t._v(t._s(t.$t("preSale.rule1")))]),n("div",[t._v(t._s(t.$t("preSale.rule2")))])]),t.codePopShow?n("CommomPop",{on:{close:t.changeShowCodePop}},[n("div",{staticClass:"pop-wrapper"},[n("div",{staticClass:"pop-title"},[t._v(t._s(t.$t("preSale.inputCode")))]),n("van-field",{staticClass:"form-input",attrs:{"input-align":"center",placeholder:t.$t("preSale.inputCode"),maxlength:"6"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("VanButton",{staticClass:"mint-btn",attrs:{loading:t.codeLoading,disabled:!t.code},on:{click:t.handleCode}},[t._v(t._s(t.$t("common.confirm")))])],1)]):t._e(),t.nftShow?n("NftPop",{ref:"nftPop",attrs:{info:t.saleData,nftFilePath:t.nftFilePath,nftName:t.nftName},on:{close:t.changeShowNftPop}}):t._e(),t.loadingShow?n("LoadingPop",{attrs:{needTimer:!1},scopedSlots:t._u([t.countShow?{key:"countdown",fn:function(){return[n("div",{staticClass:"countDown"},[n("vanCountDown",{attrs:{time:t.countDownTime,format:"ss"},on:{finish:t.countDownFinish}}),t._v(t._s(t.$t("common.second"))+" ")],1)]},proxy:!0}:null],null,!0)},[n("div",{staticClass:"countDown tips"},[t._v(" "+t._s(t.$t("preSale.minting"))+" ")])]):t._e()],1)],1)},s=[],i=n("d941"),r=n("c3ae"),o=(n("f4d8"),n("bd6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-wrap",attrs:{translate:"no"}},[n("svg",{staticClass:"icon",on:{click:t.backRouter}},[n("use",{attrs:{href:"#back"}})]),n("div",{staticClass:"title-box"},[t._v(t._s(t.$t("preSale.normalRounds",{rounds:t.info.rounds})))]),n("div",{staticClass:"_right"},[n("div",{staticClass:"note-slot"},[t._t("note")],2)])])}),c=[],u=n("a43d"),p=n("7736"),l={name:"PreSaleHeader",props:["info","backPath"],data:function(){return{}},watch:{},methods:{backRouter:function(){window.history.length<=1?this.$router.replace("/"):this.backPath?this.$router.replace(this.backPath):this.$router.go(-1)}},computed:Object(u["a"])({},Object(p["c"])(["lang"])),mounted:function(){}},d=l,y=(n("3961"),n("cba8")),m=Object(y["a"])(d,o,c,!1,null,"e79bd23a",null),f=m.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[t.type?a("div",{staticClass:"title"},[t._v(" "+t._s("3"===t.type?t.$t("preSale.success"):t.$t("preSale.preSale"))+" ")]):t._e(),a("div",{staticClass:"star-wrapper"},[a("img",{staticClass:"star-bg",attrs:{src:n("b667")}}),a("div",{staticClass:"star-body"},[a("img",{staticClass:"main",attrs:{src:t.starImg,alt:""}})]),a("div",{staticClass:"star-info-wrap"},[a("SaleInfo",{attrs:{type:t.type,info:t.info}})],1)]),"3"===t.type?a("div",{staticClass:"kol-title"},[t._v("NO."+t._s(t.info.tokenId))]):t._e()])},h=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"key-value-list"},[n("div",{staticClass:"key-value"},[n("div",{staticClass:"key"},[t._v(t._s(t.$t("preSale.total")))]),n("div",{staticClass:"value"},[n("span",{staticClass:"num",attrs:{translate:"no"}},[t._v(t._s(t.info.total||0))]),n("span",{staticClass:"unit"},[t._v(t._s(t.$t("preSale.zhang")))])])]),n("div",{staticClass:"key-value"},[n("div",{staticClass:"key"},[t._v(t._s(t.$t("preSale.currentTotal")))]),n("div",{staticClass:"value"},[n("span",{staticClass:"num",attrs:{translate:"no"}},[t._v(t._s(t.info.roundNumber||0))]),n("span",{staticClass:"unit"},[t._v(t._s(t.$t("preSale.zhang")))])])]),n("div",{staticClass:"key-value"},[n("div",{staticClass:"key"},[t._v(t._s(t.$t("preSale.saled")))]),n("div",{staticClass:"value"},[n("span",{staticClass:"num",attrs:{translate:"no"}},[t._v(t._s(t.info.totalSold||0))]),n("span",{staticClass:"unit"},[t._v(t._s(t.$t("preSale.zhang")))])])]),n("div",{staticClass:"key-value"},[n("div",{staticClass:"key"},[t._v(t._s(t.$t("preSale.roundTime")))]),n("div",{staticClass:"value"},[n("span",{staticClass:"unitTime"},[n("span",{staticClass:"time"},[t._v(t._s(t.info.beginDate))])])])])])])},g=[],w={name:"",props:["type","info"],data:function(){return{}},methods:{},mounted:function(){}},_=w,S=(n("45b71"),Object(y["a"])(_,v,g,!1,null,"6c6e63d6",null)),T=S.exports,C={name:"",props:{type:null,info:{},starImg:{default:n("286c")}},data:function(){return{kolImg:n("3cc1")}},wath:{},methods:{},mounted:function(){},components:{SaleInfo:T}},x=C,k=(n("8b13"),Object(y["a"])(x,b,h,!1,null,"4827ed40",null)),O=k.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"price-wrap"},[a("img",{staticClass:"price-bg",attrs:{src:n("0f8a")}}),a("div",{staticClass:"price-body"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("preSale.payWay")))]),a("div",{ref:"hotPort",staticClass:"price-list"},[a("ul",t._l(t.info.mintShop,(function(e,n){return a("li",{key:n,class:{active:t.payIndex==n},on:{click:function(a){return t.handleDiscount(e,n)}}},[1==n&&e.otherPrice?a("div",{staticClass:"discount-box",attrs:{translate:"no"}},[t._m(0,!0)]):t._e(),a("div",{staticClass:"price-box",attrs:{translate:"no"}},[a("div",{staticClass:"price"},[t._v(t._s(t.$gbUtils.formatBalance(e.price))+" SFO")]),e.otherPrice?a("div",{staticClass:"icon"},[t._v("+")]):t._e(),e.otherPrice?a("div",{staticClass:"price"},[t._v(t._s(t.$gbUtils.formatBalance(e.otherPrice))+" "+t._s(e.tokenName))]):t._e()])])})),0)]),t.currentMintShop?a("div",{staticClass:"balance-wrap"},[a("div",{staticClass:"balance-title"},[t._v(t._s(t.$t("preSale.accountBalance")))]),a("div",{staticClass:"balance-filed"},[a("div",[a("div",{staticClass:"balance-box"},[a("div",{staticClass:"balance",attrs:{translate:"no"}},[t._v(t._s(t.$gbUtils.formatBalance(t.assets["SFO"]||0)||0)+" SFO")]),(t.assets["SFO"]||0)<t.$gbUtils.formatBalance(t.currentMintShop.price)?a("div",{staticClass:"btn"},[t._v(t._s(t.$t("preSale.insufficientBalance")))]):t._e()]),t.currentMintShop.otherPrice?a("div",{staticClass:"balance-box"},[a("div",{staticClass:"balance",attrs:{translate:"no"}},[t._v(t._s(t.$gbUtils.formatBalance(t.assets[t.currentMintShop.tokenName]||0)||0)+" "+t._s(t.currentMintShop.tokenName))]),(t.assets[t.currentMintShop.tokenName]||0)<t.$gbUtils.formatBalance(t.currentMintShop.otherPrice)?a("div",{staticClass:"btn"},[t._v(t._s(t.$t("preSale.insufficientBalance")))]):t._e()]):t._e()]),(t.assets["SFO"]||0)<t.$gbUtils.formatBalance(t.currentMintShop.price)||(t.assets[t.currentMintShop.tokenName]||0)<t.$gbUtils.formatBalance(t.currentMintShop.otherPrice||0)?a("div",{staticClass:"recharge-btn",on:{click:function(e){return t.$gbUtils.handleToPage("/warehourse")}}},[a("span",[t._v(t._s(t.$t("preSale.toRecharge")))]),a("van-icon",{staticClass:"icon",attrs:{name:"arrow"}})],1):t._e()])]):t._e()])])])},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("5%")]),n("div",[t._v("OFF")])])}],j=(n("13b6"),n("aea3"),n("67ad"),n("a03d")),I={name:"",props:["type","info"],data:function(){return{payIndex:0,assets:{}}},computed:{currentMintShop:function(){return this.info.mintShop?this.info.mintShop[this.payIndex]:null}},methods:{init:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMining();case 2:case"end":return e.stop()}}),e)})))()},getMining:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){var n,a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])();case 2:if(n=e.sent,n.success){e.next=5;break}return e.abrupt("return");case 5:a=n.data.assetsList,a.length>0&&a.forEach((function(e){t.assets[e.name]=e.amount||0}));case 7:case"end":return e.stop()}}),e)})))()},handleDiscount:function(t,e){this.payIndex=e,this.$emit("finish",t)}},mounted:function(){this.init()}},P=I,N=(n("2258"),Object(y["a"])(P,$,M,!1,null,"dc7b542a",null)),D=N.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("VanButton",{staticClass:"mint-btn",attrs:{disabled:!!t.info.isEligible},on:{click:t.mintNft}},[t._v("Mint")]),n("div",{staticClass:"sale-tips"},[n("van-icon",{staticClass:"icon",attrs:{name:"info"}}),n("span",[t._v(t._s(t.$t("preSale.notice2")))])],1),t.codePopShow?n("CommomPop",[n("div",{staticClass:"wrap"})]):t._e()],1)},F=[],E=n("9598"),B={name:"",props:["type","info"],components:{CommomPop:E["a"]},data:function(){return{codePopShow:!1}},methods:{mintNft:function(){this.$emit("mintNft")}},mounted:function(){}},L=B,A=(n("e349"),Object(y["a"])(L,R,F,!1,null,"62743d04",null)),U=A.exports,G=n("39db"),H=n("f27b"),V=n("63bf"),z=n("c645"),J=12,K={name:"",components:{PreSaleHeader:f,StarBox:O,SaleInfo:T,SalePrice:D,MintBtn:U,CommomPop:E["a"],NftPop:G["a"],LoadingPop:H["a"]},data:function(){return{nftFilePath:"",timer:null,type:0,saleData:{beginDate:"",endDate:"",mintShop:[],rounds:0,total:0,totalSold:0,roundNumber:0,price:"0",isHadNFT:1,isEligible:1,rechargeAddress:"",token:""},codePopShow:!1,codeLoading:!1,code:"",nftShow:!1,nftShowFlag:!1,loadingShow:!1,countDownTime:6e4,countShow:!1,nftName:"StarFish",mintShopId:null}},methods:{init:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),e.next=3,t.getNftName();case 3:t.getInfo(),setTimeout((function(){t.$emit("changeLoading",!1)}),1500);case 5:case"end":return e.stop()}}),e)})))()},handleSaleMintShopId:function(t){this.mintShopId=t.id},getInfo:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(V["d"])();case 2:if(n=e.sent,n.success){e.next=5;break}return e.abrupt("return");case 5:t.saleData=n.data||t.saleData,t.mintShopId=t.saleData.mintShop[0].id,t.saleData.beginDate&&(t.saleData.beginDate=t.saleData.beginDate.substring(5,t.saleData.beginDate.length)),t.saleData.endDate&&(t.saleData.endDate=t.saleData.endDate.substring(5,t.saleData.endDate.length)),n.data.isHadNFT&&(t.getNftName(n.data.tokenType),clearInterval(t.timer),t.timer=null,t.loadingShow=!1,t.nftShowFlag||(t.nftShowFlag=!0,t.nftShow=!0));case 10:case"end":return e.stop()}}),e)})))()},getNftName:function(){var t=arguments,e=this;return Object(r["a"])(Object(i["a"])().mark((function n(){var a,s;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:0,n.next=3,z["a"].getName(a);case 3:if(s=n.sent,s.success){n.next=6;break}return n.abrupt("return");case 6:e.nftName=s.result;case 7:case"end":return n.stop()}}),n)})))()},judgeMint:function(){this.$emit("changeLoading",!0),this.mintNft()},changeShowCodePop:function(){this.codePopShow=!this.codePopShow},handleCode:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.code){e.next=2;break}return e.abrupt("return");case 2:return t.codeLoading=!0,e.next=5,Object(V["b"])(t.code);case 5:if(n=e.sent,n.success){e.next=9;break}return t.codeLoading=!1,e.abrupt("return");case 9:t.mintNft();case 10:case"end":return e.stop()}}),e)})))()},mintNft:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){var n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$emit("changeLoading",!0),!t.saleData.isEligible&&t.mintShopId){e.next=3;break}return e.abrupt("return",t.$emit("changeLoading",!1));case 3:return t.$emit("changeLoadingIconType",1),e.next=6,Object(V["a"])({id:t.mintShopId,number:1});case 6:if(n=e.sent,t.codeLoading=!1,t.$emit("changeLoading",!1),n.success){e.next=11;break}return e.abrupt("return");case 11:t.$emit("changeLoadingIconType",1),t.countShow=!0,t.loadingShow=!0,t.setTimer();case 15:case"end":return e.stop()}}),e)})))()},countDownFinish:function(){this.countShow=!1},setTimer:function(){var t=this;this.timer=setInterval((function(){J-=1,t.getInfo(),J<=1&&(clearInterval(t.timer),t.timer=null)}),5e3)},changeShowNftPop:function(){this.nftShow=!this.nftShow,this.codePopShow=!1,this.saleData.isEligible&&this.$router.replace("/")}},mounted:function(){this.init()}},W=K,q=(n("6659"),Object(y["a"])(W,a,s,!1,null,"160c041c",null));e["default"]=q.exports},ad95:function(t,e,n){"use strict";n("a14c")},b667:function(t,e,n){t.exports=n.p+"img/bag-bg.e7c89974.png"},c645:function(t,e,n){"use strict";var a=n("d941"),s=n("c3ae"),i=(n("67ad"),n("043a")),r=n("1cb0"),o=n("f645"),c=new i["a"].web3.eth.Contract(r,o["a"].KOL),u=function(){var t=Object(s["a"])(Object(a["a"])().mark((function t(e){var n;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("tokenId",e),t.prev=1,t.next=4,c.methods.getApproved(e).call({});case 4:return n=t.sent,t.abrupt("return",i["a"].successResult(n));case 8:return t.prev=8,t.t0=t["catch"](1),t.abrupt("return",i["a"].failResult(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(s["a"])(Object(a["a"])().mark((function t(e){var n,s,r,u=arguments;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:o["a"].kolRights,t.prev=1,t.next=4,i["a"].web3.eth.getAccounts();case 4:return s=t.sent,t.next=7,c.methods.approve(n,e).send({from:s[0]});case 7:return r=t.sent,t.abrupt("return",i["a"].successResult(r));case 11:return t.prev=11,t.t0=t["catch"](1),t.abrupt("return",i["a"].failResult(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(s["a"])(Object(a["a"])().mark((function t(e,n){var s,c,u,p,l=arguments;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=l.length>2&&void 0!==l[2]?l[2]:o["a"].SUT,c=new i["a"].web3.eth.Contract(r,s),t.prev=2,t.next=5,i["a"].web3.eth.getAccounts();case 5:return u=t.sent,t.next=8,c.methods.safeTransferFrom(u[0],e,n).send({from:u[0]});case 8:return p=t.sent,t.abrupt("return",i["a"].successResult(p));case 12:return t.prev=12,t.t0=t["catch"](2),t.abrupt("return",i["a"].failResult(t.t0));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=Object(s["a"])(Object(a["a"])().mark((function t(e){var n,s,c;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e,t.next=1===t.t0?3:2===t.t0?5:3===t.t0?7:9;break;case 3:return n=o["a"].KOL,t.abrupt("break",11);case 5:return n=o["a"].SPT,t.abrupt("break",11);case 7:return n=o["a"].SMT,t.abrupt("break",11);case 9:return n=o["a"].SUT,t.abrupt("break",11);case 11:return s=new i["a"].web3.eth.Contract(r,n),t.prev=12,t.next=15,s.methods.name().call({});case 15:return c=t.sent,t.abrupt("return",i["a"].successResult(c));case 19:return t.prev=19,t.t1=t["catch"](12),t.abrupt("return",i["a"].failResult(t.t1));case 22:case"end":return t.stop()}}),t,null,[[12,19]])})));return function(e){return t.apply(this,arguments)}}(),y={getApproved:u,approve:p,transferFrom:l,getName:d};e["a"]=y},cb2e:function(t,e,n){},d18c:function(t,e,n){t.exports=n.p+"img/light.ff79bf82.png"},e349:function(t,e,n){"use strict";n("409d")},f884:function(t,e,n){}}]);